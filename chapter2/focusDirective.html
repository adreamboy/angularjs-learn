<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>Get focused | 使用指令修改DOM</title>
    <link href="/angularjs-learn/bower_components/bootstrap/dist/css/bootstrap.min.css" type="text/css" rel="stylesheet">
    <script src="/angularjs-learn/bower_components/angular/angular.min.js"></script>
    <style>
        .content{
            margin-top: 40px;
        }
    </style>
</head>
<body ng-controller="SomeController">
<div class="content col-md-8 col-md-offset-2">

    <button ng-click="clickUnfocused()">
        Not focused
    </button>
    <button ngbk-focus ng-click="clickFocused()">
        I'm very focused!
    </button>
    <div>{{message.text}}</div>

</div>
<script>
    var appModule = angular.module('app', []);

    appModule.directive('ngbkFocus', function() {
        return {
            link: function(scope, element, attrs, controller) {
                element[0].focus();
            }
        };
    });
    appModule.controller('SomeController', function($scope) {
        $scope.message = { text: 'nothing clicked yet' };
        $scope.clickUnfocused = function() {
            $scope.message.text = 'unfocused button clicked';
        };
        $scope.clickFocused = function() {
            $scope.message.text = 'focus button clicked';
        };
    });
</script>
</body>
</html>